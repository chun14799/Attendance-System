{"ast":null,"code":"import _slicedToArray from\"/Users/hoanghiep/Documents/CNPMM/Attendance-System/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useState,useEffect}from'react';import Header from'./../../Common/Header';import{Table}from'react-bootstrap';import{GetListAttendances,deleteAttendaces,checkOutAttendances}from'./../../../api/attendances';import{toast}from'react-toastify';import moment from'moment';import'./index.css';export default function(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),listData=_useState2[0],setListData=_useState2[1];useEffect(function(){GetListAttendances().then(function(result){console.log(result.data);setListData(result.data);});},[]);var _deleteAttendances=function _deleteAttendances(id){if(window.confirm(\"Bạn Có Thực Sự Muốn Xóa Không\")){deleteAttendaces(id).then(function(result){GetListAttendances().then(function(result){setListData(result.data);});toast.success(\"Xóa Thành Công!!!\");});}};var _checkOutAttendances=function _checkOutAttendances(id){checkOutAttendances(id).then(function(result){console.log(result);GetListAttendances().then(function(result){setListData(result.data);});toast.success(\"Check Out Thành Công!!!\");}).catch(function(error){return console.log(error);});};var ShowListData=function ShowListData(){return listData.map(function(item,index){return/*#__PURE__*/_jsxs(\"tr\",{style:{padding:\"15px 0\"},children:[/*#__PURE__*/_jsx(\"td\",{children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:moment(item.createdAt).format(\"YYYY-MM-DD\")}),/*#__PURE__*/_jsx(\"td\",{children:item.user.fullname}),/*#__PURE__*/_jsx(\"td\",{children:item.user.department}),/*#__PURE__*/_jsx(\"td\",{children:ShowShipData(item.shift)}),/*#__PURE__*/_jsx(\"td\",{children:moment(item.checkIn).format(\"YYYY-MM-DD HH:mm:ss\")}),/*#__PURE__*/_jsx(\"td\",{children:item.checkOut?moment(item.checkOut).format(\"YYYY-MM-DD HH:mm:ss\"):/*#__PURE__*/_jsx(\"button\",{className:\"checkOutButton\",onClick:function onClick(){return _checkOutAttendances(item._id);},children:\"CheckOut\"})}),/*#__PURE__*/_jsx(\"td\",{children:item.user.email}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{style:{color:\"#C4C4C4\",cursor:\"pointer\"},onClick:function onClick(){return _deleteAttendances(item._id);},children:\" X\\xF3a\"})})]},item._id);});};var ShowShipData=function ShowShipData(shift){var text=\"Sáng\";var classData=\"MorningClass\";if(shift===2){text=\"Chiều\";classData=\"afternoonClass\";}if(shift===3){text=\"Tối\";classData=\"nightClass\";}return/*#__PURE__*/_jsx(\"span\",{className:classData,children:text});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"HeaderEditAttendances\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"TextHeader\",children:[/*#__PURE__*/_jsx(\"span\",{style:{color:\"#000000\",fontWeight:\"bold\",fontSize:\"17px\"},children:\"Ch\\u1EA5m C\\xF4ng\"}),/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"span\",{children:\"L\\u1ECBch S\\u1EED Ch\\u1EA5m C\\xF4ng\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"TextContent\",children:[/*#__PURE__*/_jsx(\"span\",{style:{backgroundColor:\"white\",padding:\"5px 15px\"},children:\"T\\u1EA5t C\\u1EA3\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Trang 1/\",/*#__PURE__*/_jsx(\"span\",{style:{color:\"white\"},children:\"1\"}),\" \"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"ContentTable\",children:/*#__PURE__*/_jsxs(Table,{className:\"TableDataHistory\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"STT\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Ng\\xE0y\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Nh\\xE2n Vi\\xEAn\"}),/*#__PURE__*/_jsx(\"th\",{children:\"V\\u0103n Ph\\xF2ng L\\xE0m Vi\\u1EC7c\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Ca\"}),/*#__PURE__*/_jsx(\"th\",{children:\"CheckIn\"}),/*#__PURE__*/_jsx(\"th\",{children:\"CheckOut\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"T\\xF9y Ch\\u1ECDn\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:ShowListData()})]})})]})]});}","map":{"version":3,"sources":["/Users/hoanghiep/Documents/CNPMM/Attendance-System/src/Component/Attendances/AttendancesHistory/index.js"],"names":["React","useState","useEffect","Header","Table","GetListAttendances","deleteAttendaces","checkOutAttendances","toast","moment","listData","setListData","then","result","console","log","data","_deleteAttendances","id","window","confirm","success","_checkOutAttendances","catch","error","ShowListData","map","item","index","padding","createdAt","format","user","fullname","department","ShowShipData","shift","checkIn","checkOut","_id","email","color","cursor","text","classData","fontWeight","fontSize","backgroundColor"],"mappings":"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","sourcesContent":["import React ,{useState,useEffect} from 'react';\nimport Header from './../../Common/Header';\nimport {Table} from 'react-bootstrap';\nimport {GetListAttendances,deleteAttendaces,checkOutAttendances} from './../../../api/attendances';\nimport { toast } from 'react-toastify';\nimport moment from 'moment'\nimport './index.css'\nexport default function(){\n    const [listData,setListData] = useState([]);\n    useEffect(()=>{\n        GetListAttendances().then(result=>{\n            console.log(result.data);\n            setListData(result.data);\n        })\n    },[])\n    const _deleteAttendances =(id)=>{\n        if(window.confirm(\"Bạn Có Thực Sự Muốn Xóa Không\")){\n            deleteAttendaces(id).then(result=>{\n                GetListAttendances().then(result=>{\n                    setListData(result.data);\n                })\n                toast.success(\"Xóa Thành Công!!!\")\n            })\n            \n        }\n    }\n    const _checkOutAttendances =(id)=>{\n        checkOutAttendances(id).then(result=>{\n            console.log(result);\n            GetListAttendances().then(result=>{\n                setListData(result.data);\n            })\n            toast.success(\"Check Out Thành Công!!!\")\n        }).catch(error=>console.log(error))\n    }\n    const ShowListData =()=>{\n        return listData.map((item,index)=>{\n            return(\n                <tr  style={{padding:\"15px 0\"}} key={item._id}>\n                    <td>{index+1}</td>\n                    <td>{moment( item.createdAt).format(\"YYYY-MM-DD\")}</td>\n                    <td>{item.user.fullname}</td>\n                    <td>{item.user.department}</td>\n                    <td>{ShowShipData(item.shift)}</td>\n                    <td>{moment(item.checkIn).format(\"YYYY-MM-DD HH:mm:ss\")}</td>\n                    <td>\n                        {item.checkOut?moment(item.checkOut).format(\"YYYY-MM-DD HH:mm:ss\"):\n                            <button  className={\"checkOutButton\"} onClick={()=>_checkOutAttendances(item._id)}>CheckOut</button>\n                        }\n                    </td>\n                    <td>{item.user.email}</td>\n                    <td>\n                        {/* <span style={{color:\"#09A6FF\",marginRight:\"10px\",cursor:\"pointer\"}} > Sửa</span> */}\n                        <span style={{color:\"#C4C4C4\",cursor:\"pointer\"}} onClick={()=>_deleteAttendances(item._id)} > Xóa</span>\n                    </td>\n                </tr>\n            )\n        })\n    }\n    const ShowShipData =(shift)=>{\n        let text =\"Sáng\" ;\n        let classData =\"MorningClass\";\n        if(shift===2){\n            text=\"Chiều\";\n            classData=\"afternoonClass\"\n        } \n        if(shift===3){\n            text=\"Tối\"\n            classData=\"nightClass\"\n        }\n        return (\n            <span className={classData}>{text}</span>\n        )\n    }\n    return(\n        <div>\n            <Header />\n            <div>\n                <div className=\"HeaderEditAttendances\">\n                    <div className=\"TextHeader\">\n                        <span style={{color:\"#000000\",fontWeight:\"bold\",fontSize:\"17px\"}}>Chấm Công</span><span></span><span>Lịch Sử Chấm Công</span>\n                    </div>\n                    <div className=\"TextContent\">\n                        <span style={{backgroundColor:\"white\",padding:\"5px 15px\"}}>Tất Cả</span>\n                        <span>Trang 1/<span style={{color:\"white\"}}>1</span> </span>\n                    </div>\n                </div>\n                <div className=\"ContentTable\">\n                    <Table className=\"TableDataHistory\">\n                        <thead>\n                            <tr>\n                                <th>STT</th>\n                                <th>Ngày</th>\n                                <th>Nhân Viên</th>\n                                <th>Văn Phòng Làm Việc</th>\n                                <th>Ca</th>\n                                <th>CheckIn</th>\n                                <th>CheckOut</th>\n                                <th>Email</th>\n                                <th>Tùy Chọn</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {\n                                ShowListData()\n                            }\n                        </tbody>\n                    </Table>\n                </div>\n            </div>\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}